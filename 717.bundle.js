/*! For license information please see 717.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[717],{334(t,n,r){var e=r(424);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,e,o,i){var c=e&&e.prototype instanceof s?e:s,f=Object.create(c.prototype);return a(f,"_invoke",function(r,e,o){var i,a,c,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,r){return i=n,a=0,c=t,p.n=r,u}};function y(r,e){for(a=r,c=e,n=0;!l&&s&&!o&&n<f.length;n++){var o,i=f[n],y=p.p,d=i[2];r>3?(o=d===e)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=r<2&&y<i[1])?(a=0,p.v=e,p.n=i[1]):y<d&&(o=r<3||i[0]>e||e>d)&&(i[4]=r,i[5]=e,p.n=d,a=0))}if(o||r>1)return u;throw l=!0,e}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&y(f,d),a=f,c=d;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:r.call(e,p))!==u)break}catch(n){i=t,a=1,c=n}finally{s=1}}return{value:n,done:l}}}(r,o,i),!0),f}var u={};function s(){}function f(){}function l(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(a(n={},e,function(){return this}),n),y=l.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return f.prototype=l,a(y,"constructor",l),a(l,"constructor",f),f.displayName="GeneratorFunction",a(l,o,"GeneratorFunction"),a(y),a(y,o,"Generator"),a(y,e,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:c,m:d}})()}function a(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,r,e){function i(n,r){a(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},a(t,n,r,e)}function c(t,n,r,e,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?n(u):Promise.resolve(u).then(e,o)}function u(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){c(i,e,o,a,u,"next",t)}function u(t){c(i,e,o,a,u,"throw",t)}a(void 0)})}}function s(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,f(e.key),e)}}function f(t){var n=function(t){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(n)?n:n+""}function l(t){var n="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return function(t,n,r){if(p())return Reflect.construct.apply(null,arguments);var e=[null];e.push.apply(e,n);var o=new(t.bind.apply(t,e));return r&&y(o,r.prototype),o}(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)},l(t)}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function y(t,n){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},y(t,n)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var v=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n,r){return n=d(n),function(t,n){if(n&&("object"==o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(n,r||[],d(t).constructor):n.apply(t,r))}(this,n,arguments)}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&y(t,n)}(n,t),r=n,a=[{key:"story",set:function(t){this._story=t,this.render()}},{key:"render",value:(c=u(i().m(function t(){var n,r,o;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.A.getFavorite(this._story.id);case 1:n=t.v,r=n?"fa-solid":"fa-regular",o=n?"red":"gray",this.innerHTML='\n      <div class="story-card">\n        <img src="'.concat(this._story.photoUrl,'" alt="').concat(this._story.name,'" class="story-image"  loading="lazy"/>\n        <div class="story-content">\n          <h3 class="story-title">').concat(this._story.name,'</h3>\n          <p class="story-description">').concat(this._story.description,'</p>\n\n          <div class="card-actions" style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">\n            <button class="btn-favorite" aria-label="Simpan ke favorit" style="background:none; border:none; cursor:pointer; font-size: 1.5rem; color: ').concat(o,';">\n              <i class="').concat(r,' fa-heart"></i>\n            </button>\n\n            <button class="btn-detail">Detail</button>\n          </div>\n        </div>\n      </div>\n    '),this._addDetailListener(),this._addFavoriteListener();case 2:return t.a(2)}},t,this)})),function(){return c.apply(this,arguments)})},{key:"_addDetailListener",value:function(){var t=this;this.querySelector(".btn-detail").addEventListener("click",function(){t._story.lat&&t._story.lon&&window.focusStoryOnMap&&window.focusStoryOnMap(t._story.lat,t._story.lon,t._story.name),Swal.fire({title:t._story.name,html:'\n          <img src="'.concat(t._story.photoUrl,'" alt="picture uploaded by ').concat(t._story.name,'" style="width:100%;border-radius:8px;margin-bottom:10px;">\n          <p>\n            <strong>Deskripsi:</strong>\n            <br>\n            ').concat(t._story.description,"\n          </p>\n          <br />\n          ").concat(t._story.lat&&t._story.lon?"\n          <p>\n            <strong>Lokasi:</strong> <br />\n            (".concat(t._story.lat,", ").concat(t._story.lon,")\n          </p>"):"","\n        "),confirmButtonText:"Tutup",width:"500px"})})}},{key:"_addFavoriteListener",value:function(){var t=this,n=this.querySelector(".btn-favorite"),r=n.querySelector("i");n.addEventListener("click",function(){var o=u(i().m(function o(a){return i().w(function(o){for(;;)switch(o.n){case 0:return a.stopPropagation(),o.n=1,e.A.getFavorite(t._story.id);case 1:if(!o.v){o.n=3;break}return o.n=2,e.A.deleteFavorite(t._story.id);case 2:r.classList.remove("fa-solid"),r.classList.add("fa-regular"),n.style.color="gray",Swal.fire({toast:!0,position:"top-end",customClass:{popup:"custom-toast"},icon:"info",title:"Dihapus dari favorit",showConfirmButton:!1,timer:1500}),o.n=5;break;case 3:return o.n=4,e.A.putFavorite(t._story);case 4:r.classList.remove("fa-regular"),r.classList.add("fa-solid"),n.style.color="red",Swal.fire({toast:!0,position:"top-end",customClass:{popup:"custom-toast"},icon:"success",title:"Disimpan ke favorit",showConfirmButton:!1,timer:1500});case 5:"/favorites"===window.location.hash&&window.dispatchEvent(new Event("hashchange"));case 6:return o.a(2)}},o)}));return function(t){return o.apply(this,arguments)}}())}}],a&&s(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,c}(l(HTMLElement));customElements.define("story-card",v)},717(t,n,r){r.d(n,{default:()=>u});var e=r(424);function o(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function c(r,e,o,a){var c=e&&e.prototype instanceof s?e:s,f=Object.create(c.prototype);return i(f,"_invoke",function(r,e,o){var i,a,c,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,r){return i=n,a=0,c=t,p.n=r,u}};function y(r,e){for(a=r,c=e,n=0;!l&&s&&!o&&n<f.length;n++){var o,i=f[n],y=p.p,d=i[2];r>3?(o=d===e)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=r<2&&y<i[1])?(a=0,p.v=e,p.n=i[1]):y<d&&(o=r<3||i[0]>e||e>d)&&(i[4]=r,i[5]=e,p.n=d,a=0))}if(o||r>1)return u;throw l=!0,e}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&y(f,d),a=f,c=d;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:r.call(e,p))!==u)break}catch(n){i=t,a=1,c=n}finally{s=1}}return{value:n,done:l}}}(r,o,a),!0),f}var u={};function s(){}function f(){}function l(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(i(n={},e,function(){return this}),n),y=l.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,i(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t}return f.prototype=l,i(y,"constructor",l),i(l,"constructor",f),f.displayName="GeneratorFunction",i(l,a,"GeneratorFunction"),i(y),i(y,a,"Generator"),i(y,e,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:d}})()}function i(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,n,r,e){function a(n,r){i(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(a("next",0),a("throw",1),a("return",2))},i(t,n,r,e)}function a(t,n,r,e,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?n(u):Promise.resolve(u).then(e,o)}function c(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function c(t){a(i,e,o,c,u,"next",t)}function u(t){a(i,e,o,c,u,"throw",t)}c(void 0)})}}r(334);const u={render:function(){return c(o().m(function t(){return o().w(function(t){for(;;)if(0===t.n)return t.a(2,'\n      <section class="container favorites-page">\n        <header class="page-header">\n          <h2 class="page-title">Cerita Favorit</h2>\n          <p class="page-subtitle">Lihat kembali cerita-cerita yang telah Anda simpan sebagai favorit</p>\n        </header>\n\n        <div id="favorite-stories" class="story-list" style="margin-top: 1rem;">\n        </div>\n      </section>\n    ')},t)}))()},afterRender:function(){return c(o().m(function t(){var n,r;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.A.getAllFavorites();case 1:if(n=t.v,r=document.getElementById("favorite-stories"),0!==n.length){t.n=2;break}return r.innerHTML='\n        <div style="text-align: center; width: 100%; grid-column: 1/-1;">\n            <p style="margin-bottom: 2rem; color: gray;">Belum ada cerita favorit.</p>\n            <a href="/" class="btn-primary" style="text-decoration:none;">Explore Cerita</a>\n        </div>\n      ',t.a(2);case 2:r.innerHTML="",n.forEach(function(t){var n=document.createElement("story-card");n.story=t,r.appendChild(n)});case 3:return t.a(2)}},t)}))()}}}}]);