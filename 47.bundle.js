/*! For license information please see 47.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[47],{47(t,n,r){r.d(n,{default:()=>m});var e=r(696),o=r(958);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var a=e&&e.prototype instanceof f?e:f,l=Object.create(a.prototype);return u(l,"_invoke",function(r,e,o){var i,a,u,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,r){return i=n,a=0,u=t,p.n=r,c}};function y(r,e){for(a=r,u=e,n=0;!s&&f&&!o&&n<l.length;n++){var o,i=l[n],y=p.p,v=i[2];r>3?(o=v===e)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=r<2&&y<i[1])?(a=0,p.v=e,p.n=i[1]):y<v&&(o=r<3||i[0]>e||e>v)&&(i[4]=r,i[5]=e,p.n=v,a=0))}if(o||r>1)return c;throw s=!0,e}return function(o,l,v){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&y(l,v),a=l,u=v;(n=a<2?t:u)||!s;){i||(a?a<3?(a>1&&(p.n=-1),y(a,u)):p.n=u:p.v=u);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(s=p.n<0)?u:r.call(e,p))!==c)break}catch(n){i=t,a=1,u=n}finally{f=1}}return{value:n,done:s}}}(r,o,i),!0),l}var c={};function f(){}function l(){}function s(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(u(n={},e,function(){return this}),n),y=s.prototype=f.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,u(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=s,u(y,"constructor",s),u(s,"constructor",l),l.displayName="GeneratorFunction",u(s,o,"GeneratorFunction"),u(y),u(y,o,"Generator"),u(y,e,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:v}})()}function u(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,n,r,e){function i(n,r){u(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},u(t,n,r,e)}function c(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function f(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,l(e.key),e)}}function l(t){var n=function(t){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(n)?n:n+""}var s=function(){return t=function t(n){var r=n.view,e=n.model;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=r,this.model=e},n=[{key:"onLogin",value:(r=a().m(function t(n){var r,e,i,u;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r=n.email,e=n.password,r&&e){t.n=1;break}return Swal.fire({icon:"warning",title:"Perhatian",text:"Email dan password wajib diisi"}),t.a(2);case 1:return this.view.setLoading(!0),t.p=2,t.n=3,this.model.login(r,e);case 3:return i=t.v,localStorage.setItem("token",i.loginResult.token),window.dispatchEvent(new Event("authChanged")),t.n=4,Swal.fire({icon:"success",title:"Login Berhasil!",text:"Selamat datang kembali.",timer:1500,showConfirmButton:!1});case 4:(0,o.V)("/"),t.n=6;break;case 5:t.p=5,u=t.v,Swal.fire({icon:"error",title:"Login Gagal",text:u.message||"Terjadi kesalahan pada server."});case 6:return t.p=6,this.view.setLoading(!1),t.f(6);case 7:return t.a(2)}},t,this,[[2,5,6,7]])}),e=function(){var t=this,n=arguments;return new Promise(function(e,o){var i=r.apply(t,n);function a(t){c(i,e,o,a,u,"next",t)}function u(t){c(i,e,o,a,u,"throw",t)}a(void 0)})},function(t){return e.apply(this,arguments)})}],n&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,e}();const p=s;function y(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var c=e&&e.prototype instanceof u?e:u,f=Object.create(c.prototype);return v(f,"_invoke",function(r,e,o){var i,u,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,r){return i=n,u=0,c=t,p.n=r,a}};function y(r,e){for(u=r,c=e,n=0;!s&&f&&!o&&n<l.length;n++){var o,i=l[n],y=p.p,v=i[2];r>3?(o=v===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=r<2&&y<i[1])?(u=0,p.v=e,p.n=i[1]):y<v&&(o=r<3||i[0]>e||e>v)&&(i[4]=r,i[5]=e,p.n=v,u=0))}if(o||r>1)return a;throw s=!0,e}return function(o,l,v){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&y(l,v),u=l,c=v;(n=u<2?t:c)||!s;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(s=p.n<0)?c:r.call(e,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:s}}}(r,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var l=[][e]?n(n([][e]())):(v(n={},e,function(){return this}),n),s=f.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,v(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=f,v(s,"constructor",f),v(f,"constructor",c),c.displayName="GeneratorFunction",v(f,o,"GeneratorFunction"),v(s),v(s,o,"Generator"),v(s,e,function(){return this}),v(s,"toString",function(){return"[object Generator]"}),(y=function(){return{w:i,m:p}})()}function v(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}v=function(t,n,r,e){function i(n,r){v(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},v(t,n,r,e)}function d(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function b(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){d(i,e,o,a,u,"next",t)}function u(t){d(i,e,o,a,u,"throw",t)}a(void 0)})}}const m={render:function(){return b(y().m(function t(){return y().w(function(t){for(;;)if(0===t.n)return t.a(2,'\n      <div class="auth-page" id="login-page">\n        <section class="auth-section">\n          <header class="auth-header">\n            <h1>Masuk ke Story Buddy</h1>\n          </header>\n\n          <form id="loginForm" class="auth-form">\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input id="email" name="email" type="email" placeholder="Enter Email" required />\n            </div>\n\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input id="password" name="password" type="password" placeholder="Enter Password" required />\n            </div>\n\n            <button type="submit" class="btn-primary">Masuk</button>\n            <p class="auth-note">\n              Belum punya akun? <a href="/register" data-link>Daftar di sini</a>\n            </p>\n          </form>\n        </section>\n      </div>\n    ')},t)}))()},afterRender:function(){var t=this;return b(y().m(function n(){var r,o;return y().w(function(n){for(;;)switch(n.n){case 0:r=new e.A,o=new p({view:t,model:r}),document.getElementById("loginForm").addEventListener("submit",function(t){t.preventDefault();var n=document.getElementById("email").value.trim(),r=document.getElementById("password").value.trim();o.onLogin({email:n,password:r})});case 1:return n.a(2)}},n)}))()},setLoading:function(t){var n=document.querySelector(".btn-primary");t?(n.disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Memproses...'):(n.disabled=!1,n.innerHTML="Masuk")}}},696(t,n,r){r.d(n,{A:()=>p});var e=r(778);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,e,o,i){var u=e&&e.prototype instanceof f?e:f,l=Object.create(u.prototype);return a(l,"_invoke",function(r,e,o){var i,a,u,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,r){return i=n,a=0,u=t,p.n=r,c}};function y(r,e){for(a=r,u=e,n=0;!s&&f&&!o&&n<l.length;n++){var o,i=l[n],y=p.p,v=i[2];r>3?(o=v===e)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=r<2&&y<i[1])?(a=0,p.v=e,p.n=i[1]):y<v&&(o=r<3||i[0]>e||e>v)&&(i[4]=r,i[5]=e,p.n=v,a=0))}if(o||r>1)return c;throw s=!0,e}return function(o,l,v){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&y(l,v),a=l,u=v;(n=a<2?t:u)||!s;){i||(a?a<3?(a>1&&(p.n=-1),y(a,u)):p.n=u:p.v=u);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(s=p.n<0)?u:r.call(e,p))!==c)break}catch(n){i=t,a=1,u=n}finally{f=1}}return{value:n,done:s}}}(r,o,i),!0),l}var c={};function f(){}function l(){}function s(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(a(n={},e,function(){return this}),n),y=s.prototype=f.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=s,a(y,"constructor",s),a(s,"constructor",l),l.displayName="GeneratorFunction",a(s,o,"GeneratorFunction"),a(y),a(y,o,"Generator"),a(y,e,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:v}})()}function a(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,r,e){function i(n,r){a(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},a(t,n,r,e)}function u(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function c(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){u(i,e,o,a,c,"next",t)}function c(t){u(i,e,o,a,c,"throw",t)}a(void 0)})}}function f(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,l(e.key),e)}}function l(t){var n=function(t){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(n)?n:n+""}var s=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"login",value:(o=c(i().m(function t(n,r){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,e.Lx)(n,r);case 1:return t.a(2,t.v)}},t)})),function(t,n){return o.apply(this,arguments)})},{key:"register",value:(r=c(i().m(function t(n,r,o){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,e.DY)(n,r,o);case 1:return t.a(2,t.v)}},t)})),function(t,n,e){return r.apply(this,arguments)})}],n&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,o}();const p=s}}]);