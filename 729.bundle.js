/*! For license information please see 729.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[729],{729(r,e,n){n.r(e),n.d(e,{default:()=>u});var t=n(255);function o(){var r,e,n="function"==typeof Symbol?Symbol:{},t=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,t,o,a){var c=t&&t.prototype instanceof s?t:s,f=Object.create(c.prototype);return i(f,"_invoke",function(n,t,o){var i,a,c,s=0,f=o||[],p=!1,v={p:0,n:0,v:r,a:l,f:l.bind(r,4),d:function(e,n){return i=e,a=0,c=r,v.n=n,u}};function l(n,t){for(a=n,c=t,e=0;!p&&s&&!o&&e<f.length;e++){var o,i=f[e],l=v.p,b=i[2];n>3?(o=b===t)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=r):i[0]<=l&&((o=n<2&&l<i[1])?(a=0,v.v=t,v.n=i[1]):l<b&&(o=n<3||i[0]>t||t>b)&&(i[4]=n,i[5]=t,v.n=b,a=0))}if(o||n>1)return u;throw p=!0,t}return function(o,f,b){if(s>1)throw TypeError("Generator is already running");for(p&&1===f&&l(f,b),a=f,c=b;(e=a<2?r:c)||!p;){i||(a?a<3?(a>1&&(v.n=-1),l(a,c)):v.n=c:v.v=c);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=r}else if((e=(p=v.n<0)?c:n.call(t,v))!==u)break}catch(e){i=r,a=1,c=e}finally{s=1}}return{value:e,done:p}}}(n,o,a),!0),f}var u={};function s(){}function f(){}function p(){}e=Object.getPrototypeOf;var v=[][t]?e(e([][t]())):(i(e={},t,function(){return this}),e),l=p.prototype=s.prototype=Object.create(v);function b(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,p):(r.__proto__=p,i(r,a,"GeneratorFunction")),r.prototype=Object.create(l),r}return f.prototype=p,i(l,"constructor",p),i(p,"constructor",f),f.displayName="GeneratorFunction",i(p,a,"GeneratorFunction"),i(l),i(l,a,"Generator"),i(l,t,function(){return this}),i(l,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:b}})()}function i(r,e,n,t){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}i=function(r,e,n,t){function a(e,n){i(r,e,function(r){return this._invoke(e,n,r)})}e?o?o(r,e,{value:n,enumerable:!t,configurable:!t,writable:!t}):r[e]=n:(a("next",0),a("throw",1),a("return",2))},i(r,e,n,t)}function a(r,e,n,t,o,i,a){try{var c=r[i](a),u=c.value}catch(r){return void n(r)}c.done?e(u):Promise.resolve(u).then(t,o)}function c(r){return function(){var e=this,n=arguments;return new Promise(function(t,o){var i=r.apply(e,n);function c(r){a(i,t,o,c,u,"next",r)}function u(r){a(i,t,o,c,u,"throw",r)}c(void 0)})}}const u={requestPermission:function(){return c(o().m(function r(){var e;return o().w(function(r){for(;;)switch(r.n){case 0:if("Notification"in window){r.n=1;break}return console.log("Browser tidak mendukung notifikasi."),r.a(2,!1);case 1:return r.n=2,Notification.requestPermission();case 2:return e=r.v,r.a(2,"granted"===e)}},r)}))()},checkSubscriptionStatus:function(){return c(o().m(function r(){var e,n;return o().w(function(r){for(;;)switch(r.n){case 0:if("serviceWorker"in navigator){r.n=1;break}return r.a(2,!1);case 1:return r.n=2,navigator.serviceWorker.ready;case 2:return e=r.v,r.n=3,e.pushManager.getSubscription();case 3:return n=r.v,r.a(2,!!n)}},r)}))()},subscribePush:function(){var r=this;return c(o().m(function e(){var n,i,a,c;return o().w(function(e){for(;;)switch(e.n){case 0:if("serviceWorker"in navigator){e.n=1;break}return e.a(2);case 1:return e.n=2,navigator.serviceWorker.ready;case 2:return n=e.v,e.n=3,n.pushManager.getSubscription();case 3:if(i=e.v){e.n=5;break}return a={userVisibleOnly:!0,applicationServerKey:function(r){for(var e=(r+"=".repeat((4-r.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),t=new Uint8Array(n.length),o=0;o<n.length;++o)t[o]=n.charCodeAt(o);return t}(t.$.PUSH_MSG_VAPID_PUBLIC_KEY)},e.n=4,n.pushManager.subscribe(a);case 4:i=e.v;case 5:if(!(c=localStorage.getItem("token"))){e.n=6;break}return e.n=6,r._sendSubscriptionToAPI(i,c);case 6:return console.log("Berhasil Subscribe:",JSON.stringify(i)),e.a(2,i)}},e)}))()},unsubscribePush:function(){return c(o().m(function r(){var e,n;return o().w(function(r){for(;;)switch(r.n){case 0:if("serviceWorker"in navigator){r.n=1;break}return r.a(2);case 1:return r.n=2,navigator.serviceWorker.ready;case 2:return e=r.v,r.n=3,e.pushManager.getSubscription();case 3:if(!(n=r.v)){r.n=5;break}return r.n=4,n.unsubscribe();case 4:return console.log("Berhasil Unsubscribe"),r.a(2,!0);case 5:return r.a(2)}},r)}))()},_sendSubscriptionToAPI:function(r,e){return c(o().m(function n(){var i,a,c,u,s;return o().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,i=r.toJSON(),a={endpoint:i.endpoint,keys:i.keys},n.n=1,fetch(t.$.PUSH_MSG_SUBSCRIBE_URL,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)});case 1:return c=n.v,n.n=2,c.json();case 2:if(u=n.v,console.log("Respon Server Notifikasi:",u),c.ok){n.n=3;break}throw new Error(u.message||"Gagal mengirim subscription ke server");case 3:n.n=5;break;case 4:n.p=4,s=n.v,console.error("Gagal mengirim subscription ke server:",s);case 5:return n.a(2)}},n,null,[[0,4]])}))()}}}}]);