/*! For license information please see 721.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[721],{613(t,e,n){n.d(e,{A:()=>d});var r=n(778),o=n(424);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof l?r:l,f=Object.create(i.prototype);return c(f,"_invoke",function(n,r,o){var a,i,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function d(n,r){for(i=n,c=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,a=f[e],d=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=n<2&&d<a[1])?(i=0,p.v=r,p.n=a[1]):d<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,i=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),i=f,c=v;(e=i<2?t:c)||!s;){a||(i?i<3?(i>1&&(p.n=-1),d(i,c)):p.n=c:p.v=c);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(s=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:e,done:s}}}(n,o,a),!0),f}var u={};function l(){}function f(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),d=s.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,c(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return f.prototype=s,c(d,"constructor",s),c(s,"constructor",f),f.displayName="GeneratorFunction",c(s,o,"GeneratorFunction"),c(d),c(d,o,"Generator"),c(d,r,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:v}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){function a(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,c,"next",t)}function c(t){u(a,r,o,i,c,"throw",t)}i(void 0)})}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var p=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getAllStories",value:(a=l(i().m(function t(){var e,n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=localStorage.getItem("token")){t.n=1;break}throw new Error("Token tidak ditemukan. Harap login kembali.");case 1:return t.p=1,t.n=2,(0,r.wF)(e);case 2:return n=t.v,t.n=3,o.A.putStories(n);case 3:return t.a(2,n);case 4:return t.p=4,t.v,console.warn("Offline Mode: Mengambil data dari IndexedDB"),t.n=5,o.A.getAllStories();case 5:if(!((a=t.v).length>0)){t.n=6;break}return t.a(2,a);case 6:throw new Error("Gagal mengambil data offline dan cache kosong.");case 7:return t.a(2)}},t,null,[[1,4]])})),function(){return a.apply(this,arguments)})},{key:"createStory",value:(n=l(i().m(function t(e){var n,a,c,u,l,f;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=localStorage.getItem("token")){t.n=1;break}throw new Error("Token tidak ditemukan. Harap login kembali.");case 1:return a=e.description||e.desc||"",t.p=2,t.n=3,(0,r.LD)({description:a,photo:e.photo,lat:e.lat,lon:e.lon,token:n});case 3:return t.a(2,t.v);case 4:if(t.p=4,l=t.v,navigator.onLine){t.n=10;break}if(t.p=5,c=null,u=null,!e.photo){t.n=7;break}return u=e.photo.type||"image/jpeg",t.n=6,new Promise(function(t,n){var r=new FileReader;r.onload=function(){var e=r.result.split(",")[1];t(e)},r.onerror=n,r.readAsDataURL(e.photo)});case 6:c=t.v;case 7:return t.n=8,o.A.saveToQueue({description:a,lat:e.lat,lon:e.lon,photoBase64:c,photoType:u,timestamp:Date.now()});case 8:return t.a(2,{offline:!0,message:"Disimpan di antrian offline"});case 9:throw t.p=9,f=t.v,console.error("Gagal menyimpan ke antrian offline:",f),f;case 10:throw l;case 11:return t.a(2)}},t,null,[[5,9],[2,4]])})),function(t){return n.apply(this,arguments)})}],e&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a}();const d=p},721(t,e,n){n.d(e,{default:()=>j});var r=n(958);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,a){var c=r&&r.prototype instanceof l?r:l,f=Object.create(c.prototype);return i(f,"_invoke",function(n,r,o){var a,i,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return a=e,i=0,c=t,p.n=n,u}};function d(n,r){for(i=n,c=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,a=f[e],d=p.p,v=a[2];n>3?(o=v===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=n<2&&d<a[1])?(i=0,p.v=r,p.n=a[1]):d<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,i=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),i=f,c=v;(e=i<2?t:c)||!s;){a||(i?i<3?(i>1&&(p.n=-1),d(i,c)):p.n=c:p.v=c);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(s=p.n<0)?c:n.call(r,p))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:e,done:s}}}(n,o,a),!0),f}var u={};function l(){}function f(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),d=s.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,i(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return f.prototype=s,i(d,"constructor",s),i(s,"constructor",f),f.displayName="GeneratorFunction",i(s,o,"GeneratorFunction"),i(d),i(d,o,"Generator"),i(d,r,function(){return this}),i(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:v}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){function a(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},i(t,e,n,r)}function c(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var f=function(){return t=function t(e){var n=e.view,r=e.model;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=n,this.model=r},e=[{key:"onUpload",value:(n=a().m(function t(e){var n,o,i,c,u;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=e.description,o=e.photo,i=e.lat,c=e.lon,n){t.n=1;break}return t.a(2,Swal.fire("Peringatan","Deskripsi tidak boleh kosong.","warning"));case 1:if(o){t.n=2;break}return t.a(2,Swal.fire("Peringatan","Silakan ambil atau pilih foto.","warning"));case 2:if(i&&c){t.n=3;break}return t.a(2,Swal.fire("Peringatan","Silakan pilih lokasi pada peta.","warning"));case 3:return t.p=3,Swal.fire({title:"Mengunggah Cerita...",allowOutsideClick:!1,didOpen:function(){return Swal.showLoading()}}),t.n=4,this.model.createStory({description:n,photo:o,lat:i,lon:c});case 4:Swal.fire({icon:"success",title:"Berhasil!",text:"Cerita Anda telah ditambahkan.",timer:1500,showConfirmButton:!1}).then(function(){(0,r.V)("/")}),t.n=6;break;case 5:t.p=5,u=t.v,Swal.fire({icon:"error",title:"Gagal Mengunggah Cerita",text:u.message||"Terjadi kesalahan saat mengirim cerita."});case 6:return t.a(2)}},t,this,[[3,5]])}),o=function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)})},function(t){return o.apply(this,arguments)})}],e&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();const s=f;var p=n(613);function d(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return v(l,"_invoke",function(n,r,o){var a,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function d(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,a=f[e],d=p.p,v=a[2];n>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=n<2&&d<a[1])?(c=0,p.v=r,p.n=a[1]):d<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,c=0))}if(o||n>1)return i;throw s=!0,r}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),c=f,u=v;(e=c<2?t:u)||!s;){a||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(l=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(v(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,v(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,v(s,"constructor",l),v(l,"constructor",u),u.displayName="GeneratorFunction",v(l,o,"GeneratorFunction"),v(s),v(s,o,"Generator"),v(s,r,function(){return this}),v(s,"toString",function(){return"[object Generator]"}),(d=function(){return{w:a,m:p}})()}function v(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}v=function(t,e,n,r){function a(e,n){v(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},v(t,e,n,r)}function m(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var y=function(){var t,e=(t=d().m(function t(){var e,n,r,o,a,i,c,u;return d().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=document.getElementById("camera"),n=document.getElementById("captureBtn"),r=document.getElementById("closeCameraBtn"),o=document.getElementById("cameraSection"),a=document.createElement("canvas"),i=null,c=function(){},e&&n&&o){t.n=1;break}return console.error("Elemen kamera tidak ditemukan di DOM."),t.a(2,c);case 1:return t.p=1,Swal.fire({title:"Mengaktifkan Kamera...",text:"Harap tunggu sebentar.",allowOutsideClick:!1,didOpen:function(){return Swal.showLoading()}}),t.n=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:i=t.v,Swal.close(),e.srcObject=i,e.setAttribute("playsinline",""),c=function(){i&&i.getTracks().forEach(function(t){return t.stop()})},n.addEventListener("click",function(t){t.preventDefault(),a.width=e.videoWidth,a.height=e.videoHeight,a.getContext("2d").drawImage(e,0,0),a.toBlob(function(t){var e=document.getElementById("photo");if(e){var n=new File([t],"captured.jpg",{type:"image/jpeg"}),r=new DataTransfer;r.items.add(n),e.files=r.files,Swal.fire({icon:"success",title:"Foto Berhasil Diambil",text:"Foto sudah ditambahkan ke formulir cerita.",timer:1500,showConfirmButton:!1})}}),o.hidden=!0,c()},{once:!0}),r&&r.addEventListener("click",function(){o.hidden=!0,c()},{once:!0}),t.n=4;break;case 3:t.p=3,u=t.v,Swal.fire({icon:"error",title:"Akses Kamera Ditolak",text:"Harap izinkan akses kamera agar dapat mengambil foto. Periksa pengaturan browser Anda."}),console.error("Kamera gagal diakses:",u);case 4:return t.a(2,c)}},t,null,[[1,3]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){m(a,r,o,i,c,"next",t)}function c(t){m(a,r,o,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}();const h=y;var b=n(481),g=n.n(b);function w(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return k(l,"_invoke",function(n,r,o){var a,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function d(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,a=f[e],d=p.p,v=a[2];n>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=n<2&&d<a[1])?(c=0,p.v=r,p.n=a[1]):d<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,p.n=v,c=0))}if(o||n>1)return i;throw s=!0,r}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),c=f,u=v;(e=c<2?t:u)||!s;){a||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(l=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,a),!0),l}var i={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,k(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,k(s,"constructor",l),k(l,"constructor",u),u.displayName="GeneratorFunction",k(l,o,"GeneratorFunction"),k(s),k(s,o,"Generator"),k(s,r,function(){return this}),k(s,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m:p}})()}function k(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}k=function(t,e,n,r){function a(e,n){k(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},k(t,e,n,r)}function _(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){_(a,r,o,i,c,"next",t)}function c(t){_(a,r,o,i,c,"throw",t)}i(void 0)})}}const j={_currentLat:-6.175392,_currentLon:106.827153,render:function(){return S(w().m(function t(){return w().w(function(t){for(;;)if(0===t.n)return t.a(2,'\n      <div class="container add-story-page">\n        <header class="page-header">\n          <h1 class="page-title">Tambah Cerita</h1>\n          <p class="page-subtitle">Bagikan pengalamanmu dengan foto dan lokasi</p>\n        </header>\n\n        <section class="form-section">\n          <form id="storyForm" class="story-form">\n            <div class="form-group">\n              <label for="description">Deskripsi Cerita</label>\n              <textarea id="description" placeholder="Tulis deskripsi cerita kamu..." required></textarea>\n            </div>\n\n            <div class="form-group photo-inputs">\n              <label for="photo">Unggah Foto</label>\n              <div class="photo-actions">\n                <button type="button" id="openCameraBtn" aria-label="Buka kamera untuk mengambil foto">Buka Kamera</button>\n\n                <input type="file" id="photo" accept="image/*" required />\n              </div>\n            </div>\n            \n            <section id="cameraSection" class="camera-section" hidden>\n              <div class="camera-wrapper">\n                <video id="camera" autoplay></video>\n              </div>\n              <div class="camera-controls">\n              <button id="closeCameraBtn" class="btn-secondary" type="button">Tutup Kamera</button>\n              <button id="captureBtn" class="btn-primary" type="button">Ambil Foto</button>\n              </div>\n            </section>\n\n            <section class="map-section">\n              <label>Pilih Lokasi</label>\n              <div id="map-add" class="map-container"></div>\n\n              <div class="coords-group">\n                <div class="coord-field">\n                  <label for="lat">Latitude</label>\n                  <input id="lat" type="text" placeholder="Latitude" readonly />\n                </div>\n                <div class="coord-field">\n                  <label for="lon">Longitude</label>\n                  <input id="lon" type="text" placeholder="Longitude" readonly />\n                </div>\n              </div>\n            </section>\n\n            <button type="submit" class="btn-primary">Kirim Cerita</button>\n          </form>\n        </section>\n      </div>\n    ')},t)}))()},afterRender:function(){var t=this;return S(w().m(function e(){var n,r;return w().w(function(e){for(;;)switch(e.n){case 0:n=new p.A,r=new s({view:t,model:n}),t._initMap(),t._initCameraListeners(),document.getElementById("storyForm").addEventListener("submit",function(e){e.preventDefault();var n=document.getElementById("description").value,o=document.getElementById("photo").files[0];r.onUpload({description:n,photo:o,lat:t._currentLat,lon:t._currentLon})});case 1:return e.a(2)}},e)}))()},_initMap:function(){var t=this,e=g().map("map-add",{keyboard:!1,tap:!1}).setView([this._currentLat,this._currentLon],12),n=g().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"),r=g().tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png");n.addTo(e),g().control.layers({Default:n,Satellite:r}).addTo(e);var o=g().marker([this._currentLat,this._currentLon]).addTo(e);e.on("click",function(e){t._currentLat=e.latlng.lat,t._currentLon=e.latlng.lng,o.setLatLng([t._currentLat,t._currentLon]),document.getElementById("lat").value=t._currentLat.toFixed(6),document.getElementById("lon").value=t._currentLon.toFixed(6),Swal.fire({icon:"info",title:"Lokasi Dipilih",text:"Koordinat (".concat(t._currentLat.toFixed(6),", ").concat(t._currentLon.toFixed(6),") telah dipilih."),showConfirmButton:!1,timer:1500})}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){t._currentLat=n.coords.latitude,t._currentLon=n.coords.longitude,e.setView([t._currentLat,t._currentLon],13),o.setLatLng([t._currentLat,t._currentLon]),document.getElementById("lat").value=t._currentLat.toFixed(6),document.getElementById("lon").value=t._currentLon.toFixed(6)},function(){document.getElementById("lat").value=t._currentLat.toFixed(6),document.getElementById("lon").value=t._currentLon.toFixed(6)})},_initCameraListeners:function(){var t=document.getElementById("openCameraBtn"),e=document.getElementById("closeCameraBtn"),n=document.getElementById("cameraSection"),r=null;t.addEventListener("click",S(w().m(function t(){return w().w(function(t){for(;;)switch(t.n){case 0:return n.hidden=!1,t.n=1,h();case 1:r=t.v;case 2:return t.a(2)}},t)}))),e.addEventListener("click",function(){n.hidden=!0,r&&r()})}}}}]);